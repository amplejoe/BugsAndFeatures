var GameSettings;
(function(d){(function(b){b[b.STAGE_NONE=0]="STAGE_NONE";b[b.STAGE_INIT=1]="STAGE_INIT";b[b.STAGE_READY=2]="STAGE_READY";b[b.STAGE_COUNTDOWN=3]="STAGE_COUNTDOWN";b[b.STAGE_INITIAL_KEY_WAIT=4]="STAGE_INITIAL_KEY_WAIT";b[b.STAGE_PLAYING=5]="STAGE_PLAYING";b[b.STAGE_GAME_OVER=6]="STAGE_GAME_OVER"})(d.GameStages||(d.GameStages={}));(function(b){b[b.MODE_NONE=0]="MODE_NONE";b[b.MODE_LAST_BUG_CRAWLING=1]="MODE_LAST_BUG_CRAWLING";b[b.MODE_TIME_TRIAL=2]="MODE_TIME_TRIAL"})(d.GameModes||(d.GameModes={}));
(function(b){b[b.STYLE_NONE=0]="STYLE_NONE";b[b.STYLE_RED=1]="STYLE_RED";b[b.STYLE_GREEN=2]="STYLE_GREEN"})(d.TextStyles||(d.TextStyles={}));d.getTextStyle=function(b,d){switch(b){case 1:return{font:d+"px Swanky and Moo Moo",fill:"#ff0000",align:"center"};case 2:return{font:d+"px Swanky and Moo Moo",fill:"#00ee00",align:"center"};default:return null}}})(GameSettings||(GameSettings={}));var Utils;(function(d){var b=function(){function b(){}b.getRandomArbitrary=function(a,c){return Math.random()*(c-a)+a};b.getRandomInt=function(a,c){return Math.floor(Math.random()*(c-a+1))+a};return b}();d.UtilFunctions=b})(Utils||(Utils={}));(function(d){var b=function(){function b(a){this.game=a;this.setStartTime(this.game.time.time)}b.prototype.setStartTime=function(a){this.startTime=a};b.prototype.getStartTime=function(){return this.startTime};b.prototype.restart=function(){this.setStartTime(this.game.time.time)};b.prototype.getCurrentTimeIntSeconds=function(){return this.toInt(this.game.time.elapsedSecondsSince(this.startTime))};b.prototype.getCurrentTimeSeconds=function(){return this.game.time.elapsedSecondsSince(this.startTime)};
b.prototype.getCurrentTimeMS=function(){return this.game.time.elapsedSince(this.startTime)};b.prototype.getFormattedTime=function(){var a=this.getCurrentTimeIntSeconds(),c=this.toInt(a/3600);0<c&&(a-=3600*c);var b=this.toInt(a/60);0<b&&(a-=60*b);return(9<c?"":"0")+c+":"+(9<b?"":"0")+b+":"+(9<a?"":"0")+a};b.prototype.toInt=function(a){return~~a};return b}();d.Timer=b})(Utils||(Utils={}));var __extends=this.__extends||function(d,b){function e(){this.constructor=d}for(var a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);e.prototype=b.prototype;d.prototype=new e};
(function(d){var b=function(b){function a(c,a){b.call(this,c);this.setInterval(a);this.setIntervalCheckPoint(this.startTime)}__extends(a,b);a.prototype.reInit=function(){this.restart();this.setIntervalCheckPoint(this.startTime)};a.prototype.setInterval=function(c){this.interval=c};a.prototype.getInterval=function(){return this.interval};a.prototype.setIntervalCheckPoint=function(c){this.intervalCheckPoint=c};a.prototype.getIntervalCheckPoint=function(){return this.intervalCheckPoint};a.prototype.checkInterval=
function(){return this.game.time.elapsedSecondsSince(this.intervalCheckPoint)>=this.interval?(this.setIntervalCheckPoint(this.game.time.time),!0):!1};return a}(d.Timer);d.IntervalTimer=b})(Utils||(Utils={}));__extends=this.__extends||function(d,b){function e(){this.constructor=d}for(var a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);e.prototype=b.prototype;d.prototype=new e};
(function(d){var b=function(b){function a(c,a,d){b.call(this,c);this.setMax(a);this.setMin(d);this.reInit()}__extends(a,b);a.prototype.setRndInterval=function(){this.rndInterval=d.UtilFunctions.getRandomArbitrary(this.min,this.max)};a.prototype.setIntervalCheckPoint=function(c){this.intervalCheckPoint=c};a.prototype.reInit=function(){this.restart();this.setIntervalCheckPoint(this.startTime);this.setRndInterval()};a.prototype.setMax=function(c){this.max=c};a.prototype.setMin=function(c){this.min=c};
a.prototype.getMax=function(){return this.max};a.prototype.getMin=function(){return this.min};a.prototype.checkInterval=function(){return this.game.time.elapsedSecondsSince(this.intervalCheckPoint)>=this.rndInterval?(this.reInit(),!0):!1};return a}(d.Timer);d.RandomIntervalTimer=b})(Utils||(Utils={}));__extends=this.__extends||function(d,b){function e(){this.constructor=d}for(var a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);e.prototype=b.prototype;d.prototype=new e};
(function(d){var b=function(b){function a(c,a){b.call(this,c);this.setCountdown(a)}__extends(a,b);a.prototype.setCountdown=function(c){this.countdown=c};a.prototype.getCountdownValue=function(){var c=this.getCurrentTimeSeconds();return this.countdown-c};a.prototype.getCountdownIntValue=function(){var c=this.getCurrentTimeSeconds();return this.toInt(this.countdown-c)};a.prototype.isRunning=function(){return this.getCurrentTimeSeconds()>=this.countdown?!1:!0};return a}(d.Timer);d.CountdownTimer=b})(Utils||
(Utils={}));var __extends=this.__extends||function(d,b){function e(){this.constructor=d}for(var a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);e.prototype=b.prototype;d.prototype=new e},Sprites;
(function(d){var b=function(b){function a(c,a,d,f){b.call(this,c,d,f,a);this.setAnimName(a);this.currentKey=null;this.setFirstBoost(!0)}__extends(a,b);a.prototype.setCurrentKey=function(c){this.currentKey=c};a.prototype.setAnimName=function(c){this.animName=c};a.prototype.isFirstBoost=function(){return this.firstBoost};a.prototype.setFirstBoost=function(c){this.firstBoost=c};a.prototype.getCurrentKey=function(){return this.currentKey};a.prototype.getAnimName=function(){return this.animName};a.prototype.boost=
function(c){null!=this.currentKey&&(this.isFirstBoost()?(this.body.velocity.setTo(0,-270),this.setFirstBoost(!1)):this.currentKey.isDown&&this.body.velocity.setTo(0,c))};a.prototype.update=function(){};a.prototype.Animate=function(){this.loadTexture(this.animName,0);this.animations.add("move");this.animations.play("move",10,!0);this.animations.currentAnim.speed=10};a.MAX_SPEED=30;return a}(Phaser.Sprite);d.Bug=b})(Sprites||(Sprites={}));var __extends=this.__extends||function(d,b){function e(){this.constructor=d}for(var a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);e.prototype=b.prototype;d.prototype=new e},States;
(function(d){var b=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.create=function(){this.bg=this.game.add.tileSprite(0,0,this.game.width,this.game.height,"bg_neu");this.enter=this.game.add.sprite(.08*this.game.width,.86*this.game.height,"enter");this.enter.anchor.setTo(.5,.5);this.enter.scale.x=.4;this.enter.scale.y=.4;this.enter.alpha=0;this.game.add.tween(this.enter).to({alpha:1},2E3,Phaser.Easing.Linear.None,!0,0,1E3,!0);this.s1=this.game.add.audio("bg_old",1,!0);this.s1.play();
this.squeaks=[this.game.add.audio("squeak",1,!1),this.game.add.audio("squeak2",1,!1)];this.showInfo();this.START_BUTTON1=this.game.input.keyboard.addKey(Phaser.Keyboard.ENTER);this.START_BUTTON1.onDown.add(a.prototype.buttonPressed,this);this.START_BUTTON2=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);this.START_BUTTON2.onDown.add(a.prototype.buttonPressed,this);this.titleAni=this.game.add.sprite(this.game.width/2,this.game.height/2,"TITLE_ANIM");this.titleAni.anchor.set(.5,.5);this.titleAni.scale.x=
.3;this.titleAni.scale.y=.3;this.titleAni.animations.add("TITLE_ANIM");this.titleAni.animations.play("TITLE_ANIM",8,!0)};a.prototype.showInfo=function(){document.getElementById("infolink").style.display="block"};a.prototype.hideInfo=function(){document.getElementById("infolink").style.display="none"};a.prototype.buttonPressed=function(){this.sound.stopAll();this.hideInfo();this.squeaks[Math.floor(2*Math.random())].play();this.game.tweens.removeFrom(this.enter);this.game.state.start("MenuState")};
return a}(Phaser.State);d.TitleScreenState=b})(States||(States={}));__extends=this.__extends||function(d,b){function e(){this.constructor=d}for(var a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);e.prototype=b.prototype;d.prototype=new e};
(function(d){var b=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.create=function(){this.bg=this.game.add.tileSprite(0,0,this.game.width,this.game.height,"bg_neu");this.s1=this.game.add.audio("menunew",1,!0);this.s1.play();this.squeaks=[this.game.add.audio("squeak",1,!1),this.game.add.audio("squeak2",1,!1)];var c=GameSettings.getTextStyle(1,60);this.game.add.text(.3*this.game.width,60,"Pick at least 2 Bugs!",c);this.START_BUTTON1=this.game.input.keyboard.addKey(Phaser.Keyboard.ENTER);
this.START_BUTTON1.onDown.add(a.prototype.buttonPressed,this);this.START_BUTTON2=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);this.START_BUTTON2.onDown.add(a.prototype.buttonPressed,this);this.bugs=[new Sprites.Bug(this.game,"BUG1_MOVING",.2*this.game.width,.4*this.game.height),new Sprites.Bug(this.game,"BUG2_MOVING",.5*this.game.width,.4*this.game.height),new Sprites.Bug(this.game,"BUG3_MOVING",.8*this.game.width,.4*this.game.height),new Sprites.Bug(this.game,"BUG4_MOVING",.35*this.game.width,
.65*this.game.height),new Sprites.Bug(this.game,"BUG5_MOVING",.65*this.game.width,.65*this.game.height)];c=GameSettings.getTextStyle(1,40);this.game.add.text(.15*this.game.width,.5*this.game.height,"Andi Goldi",c);this.game.add.text(.41*this.game.width,.5*this.game.height,"Marcel Hirschi",c);this.game.add.text(.72*this.game.width,.5*this.game.height,"Raini Sch\u00f6ni",c);this.game.add.text(.25*this.game.width,.75*this.game.height,"Marlies Schildi",c);this.game.add.text(.58*this.game.width,.75*this.game.height,
"Mario Scheibi",c);this.choosen=[!1,!1,!1,!1];for(c=0;c<this.bugs.length;c++)this.bugs[c].scale.x=.3,this.bugs[c].scale.y=.3,this.bugs[c].anchor.setTo(.5,.5),this.game.add.existing(this.bugs[c]),this.bugs[c].inputEnabled=!0;this.bugs[0].events.onInputDown.add(function(){this.BugClick(0)},this);this.bugs[1].events.onInputDown.add(function(){this.BugClick(1)},this);this.bugs[2].events.onInputDown.add(function(){this.BugClick(2)},this);this.bugs[3].events.onInputDown.add(function(){this.BugClick(3)},
this);this.bugs[4].events.onInputDown.add(function(){this.BugClick(4)},this)};a.prototype.BugClick=function(c){this.choosen[c]?this.bugs[c].animations.stop(null,!0):this.bugs[c].Animate();this.choosen[c]=!this.choosen[c]};a.prototype.update=function(){};a.prototype.buttonPressed=function(){var c=0,a=[];this.squeaks[Math.floor(2*Math.random())].play();for(var b=0;b<this.choosen.length;b++)this.choosen[b]&&(a.push(this.bugs[b].getAnimName()),c++);2>c||(this.sound.stopAll(),this.game.state.states.GameScreenState.setBugs(a),
this.game.state.start("GameScreenState"))};return a}(Phaser.State);d.MenuState=b})(States||(States={}));__extends=this.__extends||function(d,b){function e(){this.constructor=d}for(var a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);e.prototype=b.prototype;d.prototype=new e};
(function(d){var b=function(b){function a(){b.apply(this,arguments);this.gameMode=this.gameStage=0}__extends(a,b);a.prototype.create=function(){this.setGameStage(1);this.setGameMode(1);this.bgTile0=this.game.add.tileSprite(0,0,this.game.stage.width,this.game.cache.getImage("bg_neu").height,"bg_neu");this.initRndLetters();this.initTexts();this.initSounds();this.initAmbientSprites();this.initGameTiming();this.initBugs();this.setGameStage(2)};a.prototype.startRunning=function(){if(4==this.gameStage){for(var c=
0;c<this.bugs.length;c++)this.bugs[c].Animate();this.gravity=150;this.game.physics.arcade.gravity.y=this.gravity;this.playRndLoops();this.tweenSpriteDown(this.twig);this.assignAndRemoveLetters();this.gameTimer.reInit();this.rndButtonAssignTimer.reInit();this.userInfo.setText("");this.game.tweens.removeFrom(this.userInfo);this.setGameStage(5)}};a.prototype.initAmbientSprites=function(){this.shrubbery=["leaves1","leaves2","leaves3"];this.shrubTimerMax=1.5;this.shrubTimerMin=.4;this.shrubTimerCreateTime=
-1;this.shrubSpawnTimer=1.2};a.prototype.initTexts=function(){this.cdText=this.game.add.text(this.game.world.centerX-20,this.game.world.centerY-130,"",GameSettings.getTextStyle(1,80));this.userInfo=this.game.add.text(this.game.world.centerX-260,this.game.world.centerY-200,"",GameSettings.getTextStyle(1,80));this.userInfo.alpha=0};a.prototype.initGameTiming=function(){this.gameTimer=new Utils.IntervalTimer(this.game,10);this.preGameCountDownTimer=new Utils.CountdownTimer(this.game,2.5);this.boostVelocity=
-170;this.gravity=0;this.tileSpeed=1;this.rndButtonAssignTimer=new Utils.RandomIntervalTimer(this.game,7,.5);this.initPhaseButtonReassignTimer=new Utils.IntervalTimer(this.game,10)};a.prototype.initSounds=function(){this.music=[this.game.add.audio("loopwbeat",1,!0),this.game.add.audio("loopwdoing",1,!0),this.game.add.audio("loopwdoingalowpass",1,!0),this.game.add.audio("loopwdoingaresonance",1,!0)];this.squeaks=[this.game.add.audio("squeak",1,!1),this.game.add.audio("squeak2",1,!1)];this.sEnd=[this.game.add.audio("end",
1,!1),this.game.add.audio("end_combined",1,!1)];this.sStart=this.game.add.audio("startrace",1,!1);this.sBeep=this.game.add.audio("beep",1,!1);this.currentMusicPlaying=null};a.prototype.initRndLetters=function(){this.allKeys=[Phaser.Keyboard.Q,Phaser.Keyboard.W,Phaser.Keyboard.E,Phaser.Keyboard.R,Phaser.Keyboard.T,Phaser.Keyboard.Z,Phaser.Keyboard.U,Phaser.Keyboard.I,Phaser.Keyboard.O,Phaser.Keyboard.P,Phaser.Keyboard.A,Phaser.Keyboard.S,Phaser.Keyboard.D,Phaser.Keyboard.F,Phaser.Keyboard.G,Phaser.Keyboard.H,
Phaser.Keyboard.J,Phaser.Keyboard.K,Phaser.Keyboard.L,Phaser.Keyboard.Y,Phaser.Keyboard.X,Phaser.Keyboard.C,Phaser.Keyboard.V,Phaser.Keyboard.B,Phaser.Keyboard.N,Phaser.Keyboard.M]};a.prototype.initBugs=function(){this.game.physics.arcade.gravity.y=this.gravity;this.twig=this.game.add.sprite(.09*this.game.width,.43*this.game.height,"twig");this.twig.anchor.setTo(0,0);this.twig.scale.x=.5;this.twig.scale.y=.5;if(!(2>this.bugNames.length)){this.bugsIngame=this.bugNames.length;this.bugs=Array(this.bugNames.length);
this.bugsTexts=Array(this.bugsIngame);this.initKeysPressed=Array(this.bugsIngame);this.currentlySetKeys=Array(this.bugsIngame);for(var c=.08,a=0;a<this.bugs.length;a++)this.bugs[a]=new Sprites.Bug(this.game,this.bugNames[a],this.game.width*c,.52*this.game.height),c+=.18,this.bugs[a].scale.x=.3,this.bugs[a].scale.y=.3,this.game.add.existing(this.bugs[a]),this.game.physics.enable(this.bugs[a],Phaser.Physics.ARCADE),this.bugs[a].body.collideWorldBounds=!1,this.bugs[a].body.bounce.set(.4),this.bugsTexts[a]=
this.game.add.text(this.bugs[a].x+40,40,"",GameSettings.getTextStyle(1,80)),this.initKeysPressed[a]=!1;this.assignAndRemoveLetters()}};a.prototype.tweenSpriteDown=function(c){this.game.add.tween(c).to({y:this.game.height+700},5800-100*this.tileSpeed,Phaser.Easing.Linear.None,!0)};a.prototype.playRndLoops=function(){var c=this.music[Math.floor(2*Math.random())];this.switchMusic(c)};a.prototype.playRndFilters=function(){var c=this.music[Math.floor(3*Math.random()-2+1)+2];this.switchMusic(c)};a.prototype.stopMusic=
function(){var c=this.getCurrentMusicPlaying();null!=c&&c.stop()};a.prototype.switchMusic=function(c){for(var a=0;a<this.music.length;a++)if(this.music[a].isPlaying){c.name!==this.music[a].name&&(this.currentMusicPlaying=c);return}this.currentMusicPlaying=c;c.loop=!0;c.play()};a.prototype.getCurrentMusicPlaying=function(){for(var c=0;c<this.music.length;c++)if(this.music[c].isPlaying)return this.music[c];return null};a.prototype.createShrubberyLeft=function(){if(this.game.time.elapsedSecondsSince(this.shrubTimerCreateTime)>=
this.shrubSpawnTimer){var c=this.shrubbery[Math.floor(3*Math.random())],c=this.game.add.sprite(0,-700,c);c.scale.x=.4;c.scale.y=.4;this.tweenSpriteDown(c);this.shrubTimerCreateTime=this.game.time.time;this.shrubSpawnTimer=Math.round(Math.random()*(this.shrubTimerMax-this.shrubTimerMin))+this.shrubTimerMin}};a.prototype.createShrubberyRight=function(){if(this.game.time.elapsedSecondsSince(this.shrubTimerCreateTime)>=this.shrubSpawnTimer){var c=this.shrubbery[Math.floor(3*Math.random())],c=this.game.add.sprite(this.game.width,
-700,c);c.anchor.setTo(.5,1);c.scale.x=-.4;c.scale.y=-.4;c.x+=c.width/2;this.tweenSpriteDown(c);this.shrubTimerCreateTime=this.game.time.time;this.shrubSpawnTimer=Math.round(Math.random()*(this.shrubTimerMax-this.shrubTimerMin))+this.shrubTimerMin}};a.prototype.checkInitialKeysPressed=function(){for(var c=0,a=0;a<this.bugs.length;a++){var b;b=this.bugs[a].getCurrentKey();this.setKeyButtonText(a,b);null!=b&&b.isDown&&(this.initKeysPressed[a]=!0)}for(a=0;a<this.initKeysPressed.length;a++)1==this.initKeysPressed[a]&&
c++;c==this.bugs.length&&this.startRunning();if(this.initPhaseButtonReassignTimer.checkInterval())for(this.assignAndRemoveLetters(),a=0;a<this.initKeysPressed.length;a++)this.initKeysPressed[a]=!1};a.prototype.setKeyButtonText=function(a,b){null!=b&&(b.isDown?this.bugsTexts[a].setStyle(GameSettings.getTextStyle(2,80)):(4<this.gameStage||!this.initKeysPressed[a])&&this.bugsTexts[a].setStyle(GameSettings.getTextStyle(1,80)),this.bugsTexts[a].setText(this.keyValToString(b.keyCode)))};a.prototype.update=
function(){switch(this.gameStage){case 2:this.sStart.play(),this.setGameStage(3);case 3:this.doCountDown();return;case 4:this.checkInitialKeysPressed();return;case 5:break;default:return}this.bgTile0.tilePosition.y+=this.tileSpeed;for(var a=0;a<this.bugs.length;a++)this.handleBugDeath(a),this.handleButtons(a);this.handleWin();this.createRndShrubbery();this.adjustGameDifficulty();this.checkMusic();this.UpdateRndBtns()};a.prototype.handleBugDeath=function(a){if(null!=this.bugs[a])if(this.bugs[a].y>=
this.game.height){if(null!=this.bugs[a].getCurrentKey()){var b=this.bugs[a].getCurrentKey().keyCode;this.game.input.keyboard.removeKey(b)}2<this.bugsIngame&&this.sEnd[0].play();this.bugs[a]=null;this.bugsIngame--}else 50>=this.bugs[a].y&&(this.bugs[a].y=50,this.bugs[a].body.velocity.setTo(0,30))};a.prototype.createRndShrubbery=function(){0<Math.floor(2*Math.random())?this.createShrubberyLeft():this.createShrubberyRight()};a.prototype.checkMusic=function(){if(null!=this.currentMusicPlaying){var a=
this.getCurrentMusicPlaying();null!=a&&this.currentMusicPlaying.name!=a.name&&a.currentTime>Math.floor(a.durationMS)-100&&(this.currentMusicPlaying.play(),a.stop())}};a.prototype.adjustGameDifficulty=function(){if(this.gameTimer.checkInterval()){40<this.boostVelocity&&(this.boostVelocity-=20);20>this.tileSpeed&&this.tileSpeed++;400>this.gravity&&(this.gravity+=20,this.game.physics.arcade.gravity.y=this.gravity);var a=this.rndButtonAssignTimer.getMax();a>this.rndButtonAssignTimer.getMin()&&this.rndButtonAssignTimer.setMax(a-
1);0==Math.floor(2*Math.random())?this.playRndFilters():this.playRndLoops()}};a.prototype.handleButtons=function(a){if(null==this.bugs[a])this.bugsTexts[a].setStyle(GameSettings.getTextStyle(1,80)),this.bugsTexts[a].setText(":(");else{var b;b=this.bugs[a].getCurrentKey();this.setKeyButtonText(a,b);this.bugs[a].boost(this.boostVelocity)}};a.prototype.handleWin=function(){if(!(1<this.bugsIngame)){var a;a="";if(1==this.bugsIngame)for(var b=0;b<this.bugs.length;b++)if(null!=this.bugs[b]){a=this.bugNames[b];
break}this.sEnd[1].play();b=this.gameTimer.getFormattedTime();this.stopMusic();this.game.state.states.GameOverScreenState.setTimePlayed(b);this.game.state.states.GameOverScreenState.setWinner(a);this.game.state.start("GameOverScreenState")}};a.prototype.doCountDown=function(){this.preGameCountDownTimer.isRunning()?this.cdText.setText(""+(this.preGameCountDownTimer.getCountdownIntValue()+1)):(this.cdText.setText("GO!"),this.userInfo.setText("Touch all keys!"),this.game.add.tween(this.userInfo).to({alpha:1},
600,Phaser.Easing.Linear.None,!0,0,300,!0),this.game.add.tween(this.cdText).to({x:4E3},2500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.cdText).to({alpha:0},1E3,Phaser.Easing.Linear.None,!0),this.setGameStage(4))};a.prototype.setGameStage=function(a){this.gameStage!=a&&(this.gameStage=a)};a.prototype.setGameMode=function(a){this.gameMode!=a&&(this.gameMode=a)};a.prototype.setBugs=function(a){this.bugNames=a};a.prototype.getRandomLetter=function(){return this.allKeys[Math.floor(Math.random()*
this.allKeys.length)]};a.prototype.UpdateRndBtns=function(){this.rndButtonAssignTimer.checkInterval()&&this.assignAndRemoveLetters()};a.prototype.assignAndRemoveLetters=function(){var a;a=!1;for(var b=0;b<this.bugs.length;b++)if(null!=this.bugs[b]){for(a=this.getRandomLetter();-1<this.currentlySetKeys.indexOf(a);)a=this.getRandomLetter();this.currentlySetKeys[b]=a;if(null!=this.bugs[b].getCurrentKey()){var d=this.bugs[b].getCurrentKey().keyCode;this.game.input.keyboard.removeKey(d)}a=this.game.input.keyboard.addKey(a);
this.bugs[b].setCurrentKey(a);a=!0}a&&4<=this.gameStage&&this.sBeep.play()};a.prototype.toInt=function(a){return~~a};a.prototype.keyValToString=function(a){return String.fromCharCode(a)};a.prototype.getFormattedTimeSince=function(a){a=this.toInt(this.game.time.elapsedSecondsSince(a));var b=this.toInt(a/3600);0<b&&(a-=3600*b);var d=this.toInt(a/60);0<d&&(a-=60*d);return(9<b?"":"0")+b+":"+(9<d?"":"0")+d+":"+(9<a?"":"0")+a};return a}(Phaser.State);d.GameScreenState=b})(States||(States={}));__extends=this.__extends||function(d,b){function e(){this.constructor=d}for(var a in b)b.hasOwnProperty(a)&&(d[a]=b[a]);e.prototype=b.prototype;d.prototype=new e};
(function(d){var b=function(b){function a(){b.apply(this,arguments);this.timePlayed="00:00:00"}__extends(a,b);a.prototype.setWinner=function(a){this.winner=a};a.prototype.setTimePlayed=function(a){this.timePlayed=a};a.prototype.create=function(){this.sEnd=this.game.add.audio("end_quiet",1,!0);this.sEnd.fadeIn(6E3,!0);this.START_BUTTON1=this.game.input.keyboard.addKey(Phaser.Keyboard.ENTER);this.START_BUTTON1.onDown.add(a.prototype.buttonPressed,this);this.START_BUTTON2=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
this.START_BUTTON2.onDown.add(a.prototype.buttonPressed,this);this.bg=this.game.add.tileSprite(0,0,this.game.width,this.game.height,"bg_neu");var b=GameSettings.getTextStyle(1,60);this.game.add.text(this.game.width/2-450,70,"Game Over - The Winner:",b);if(""==this.winner){var d=GameSettings.getTextStyle(1,80);this.game.add.text(this.game.width/2-100,250,"Nobody!",d)}else this.winnerBug=new Sprites.Bug(this.game,this.winner,.5*this.game.width,.5*this.game.height),this.winnerBug.x-=this.winnerBug.width/
2,this.winnerBug.y-=this.winnerBug.height/2,this.game.add.existing(this.winnerBug),this.winnerBug.Animate();this.game.add.text(this.game.width/2-100,.8*this.game.height,"Time played: "+this.timePlayed,b)};a.prototype.update=function(){};a.prototype.buttonPressed=function(){this.sound.stopAll();this.game.state.start("TitleScreenState")};a.prototype.toInt=function(a){return~~a};return a}(Phaser.State);d.GameOverScreenState=b})(States||(States={}));var BugsAndFeatures=function(){function d(){this.game=new Phaser.Game(1280,650,Phaser.AUTO,"content",{create:this.create,preload:this.preload})}d.prototype.preload=function(){this.game.add.text(.4*this.game.width,.43*this.game.height,"Loading...",{font:"60px Swanky and Moo Moo",fill:"#ff0000"});this.game.load.image("bg_neu","assets/gfx/HG_neu.jpg");this.game.load.image("leaves1","assets/gfx/leave1.png");this.game.load.image("leaves2","assets/gfx/leave2.png");this.game.load.image("leaves3","assets/gfx/leave3.png");
this.game.load.image("twig","assets/gfx/twig.png");this.game.load.image("enter","assets/gfx/enter_green.png");this.game.load.atlasJSONHash("BUG1_MOVING","assets/gfx/final_bugs/goldie_animation.png","assets/gfx/final_bugs/goldie_animation.json");this.game.load.atlasJSONHash("BUG2_MOVING","assets/gfx/final_bugs/hirschi.png","assets/gfx/final_bugs/hirischi_moving.json");this.game.load.atlasJSONHash("BUG3_MOVING","assets/gfx/final_bugs/schoeni_animation.png","assets/gfx/final_bugs/schoeni_animation.json");
this.game.load.atlasJSONHash("BUG4_MOVING","assets/gfx/final_bugs/raini.png","assets/gfx/final_bugs/raini.json");this.game.load.atlasJSONHash("BUG5_MOVING","assets/gfx/final_bugs/flachi.png","assets/gfx/final_bugs/flachi.json");this.game.load.atlasJSONHash("TITLE_ANIM","assets/gfx/title_animation.png","assets/gfx/title_animation.json");this.game.load.audio("menunew","assets/sound/bug_menu_loop_new.wav");this.game.load.audio("loopwbeat","assets/sound/bugs_and_features_loop_with_beat.wav");this.game.load.audio("loopwdoing",
"assets/sound/bugs_and_features_loop_with_doing.wav");this.game.load.audio("loopwdoingalowpass","assets/sound/bugs_and_features_loop_with_doing_and_lowpass.wav");this.game.load.audio("loopwdoingaresonance","assets/sound/bugs_and_features_loop_with_doing_and_resonance.wav");this.game.load.audio("end_quiet","assets/sound/end_quiet.mp3");this.game.load.audio("bg_old","assets/sound/background_old.mp3");this.game.load.audio("beep","assets/sound/sfx/beep.wav");this.game.load.audio("end","assets/sound/sfx/bugs-end-2.wav");
this.game.load.audio("end_combined","assets/sound/sfx/bugs-end-combined.wav");this.game.load.audio("squeak","assets/sound/sfx/bugs-squeak.wav");this.game.load.audio("squeak2","assets/sound/sfx/bugs-squeak-2.wav");this.game.load.audio("startrace","assets/sound/sfx/race_start.wav");this.game.physics.startSystem(Phaser.Physics.ARCADE)};d.prototype.create=function(){this.game.state.add("TitleScreenState",States.TitleScreenState,!0);this.game.state.add("GameScreenState",States.GameScreenState,!1);this.game.state.add("GameOverScreenState",
States.GameOverScreenState,!1);this.game.state.add("MenuState",States.MenuState,!1)};return d}();window.onload=function(){new BugsAndFeatures};
